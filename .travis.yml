language: python
python:
  - "3.6"      # current default Python on Travis CI
# command to install dependencies
install:
  - pip install -r deployment/requirements.txt
# command to run tests
script:
  - python3 -m unittest discover -v backend
# deploy
before_deploy:
  - npm install --prefix frontend
  - npm run build --prefix frontend
  - bash build.sh
  - cd deployment
  - git add *
  - git add .
  - git commit -a -m "Deployment"

deploy:
  provider: heroku
  api_key: 2bbf0692-5e1c-42ca-959c-e200af90f6b6
  strategy: git
  app:
    main: grup-es
